// Generated by CoffeeScript 2.6.1
(function() {
  // Place all the behaviors and hooks related to the matching controller here.
  // All this logic will automatically be available in application.js.
  // You can use CoffeeScript in this file: http://coffeescript.org/

  (function($) {
    return $(function() {
      var do_snapshots, do_ssh_keys, do_volumes;
      do_volumes = $('#digital_ocean_volumes');
      do_snapshots = $('#digital_ocean_snapshots');
      do_ssh_keys = $('#digital_ocean_ssh_keys');
      if (do_volumes.length) {
        $.ajax({
          url: do_volumes.data('url'),
          dataType: 'html',
          timeout: 8 * 1000,
          type: 'GET',
          success: function(data, textStatus, jqXHR) {
            return do_volumes.html(data);
          },
          error: function(jqXHR, textStatus, errorThrown) {
            return do_volumes.find('td').html(`Unable to get Digital Ocean volumes (${textStatus})`);
          }
        });
      }
      if (do_snapshots.length) {
        return $.ajax({
          url: do_snapshots.data('url'),
          dataType: 'html',
          timeout: 8 * 1000,
          type: 'GET',
          success: function(data, textStatus, jqXHR) {
            return do_snapshots.html(data);
          },
          error: function(jqXHR, textStatus, errorThrown) {
            return do_snapshots.find('td').html(`Unable to get Digital Ocean snapshots (${textStatus})`);
          }
        });
      }
    });
  })(jQuery);

}).call(this);
